Журналирование
##############

В процессе работы часть данных, с которыми имеет дело СУБД, хранится в оперативной памяти и записывается на диск отложенным образом. 
Чем реже это происходит, тем меньше ввод-вывод и тем быстрее работает система.

Но при возникновении сбоя содержимое оперативной памяти будет потеряно, а останутся лишь данные, записанные на диск 
(при некоторых видах сбоев может пострадать и диск, но в этом случае поможет лишь резервная копия). Возможно организовать ввод-вывод таким образом, 
чтобы данные на диске всегда поддерживались в согласованном состоянии, но это вызывает большие сложности.

В PostgreSQL данные, записанные на диск, оказываются несогласованными некоторое время и если в этот момент возникает сбой, 
для восстановления после сбоя требуются определенные действия, чтобы эту согласованность восстановить. 

Для этого используется журнал предзаписи WAL (Write-Ahead Logging) — механизм в PostgreSQL, который обеспечивает надёжность, долговечность и масштабируемость базы данных.

.. important:: Принцип WAL: все изменения в базе данных записываются в журнал перед тем, как быть применёнными к реальным файлам данных. 
			   Это позволяет в случае сбоя восстановить базу данных до согласованного состояния.

.. toctree::
   :maxdepth: 4
   :caption: Оглавление

   01_cash/01_cash
   02_wal/02_wal
   03_checkpoint/03_checkpoint
   04_tun/04_tun